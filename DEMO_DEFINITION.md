# アプリデモ作成 - 定義すべき事項

## 1. アプリケーション概要

### 1.1 アプリの目的・コンセプト
- [x] アプリが解決する問題は何か？
  - **回答**: 現代人のストレスの上昇。ストレスを受けるタイミングと報酬を受けるタイミングの間にラグがあるため、脳の報酬系がうまく働かず、ストレスだけが蓄積されている問題を解決。
- [x] ターゲットユーザーは誰か？
  - **回答**: 働く人（特に日々のストレスを感じているビジネスパーソン）
- [x] 主要な価値提案は何か？
  - **回答**: 自分で立てた目標を達成してリワードを得ることで、日々のストレスを報酬のために行っていると思えるようにし、報酬系を機能させてストレスの蓄積を防ぐ。働く人のストレス軽減と幸福度上昇を実現。

### 1.2 アプリ名・ブランディング
- [x] アプリ名（例：GoHobby）
  - **回答**: GoHobby（プロジェクト名から推測）
- [x] ロゴ・カラーパレット
  - **選定**: ストレス軽減・幸福度向上をイメージするカラー（温かみのある色、リラックスできる色など）
    - プライマリ: オレンジ/コーラル系（達成感、エネルギー）
    - セカンダリ: グリーン系（成長、リラックス）
    - 背景: ライトグレー/オフホワイト（落ち着いた印象）
- [x] アプリのキャッチフレーズ
  - **選定**: 「日々の努力にすぐに報酬を。ストレスを報酬に変えましょう。」

## 2. 機能要件

### 2.1 コア機能
- [x] 主要機能のリスト
  1. **目標を登録する機能** - ユーザーが仕事の目標を設定・登録（かんたん/詳細モード対応） ✅実装済み
  2. **リワードを登録する機能** - 目標達成時に受け取るリワードを事前に設定（選択式/自由入力対応） ✅実装済み
  3. **目標が達成できたことを報告する機能** - 目標達成を記録・報告 ✅実装済み
  4. **リワードを受け取る機能** - 達成報告後にリワードを受け取る（ランダムコード生成・表示） ✅実装済み
  5. **目標を編集する機能** - 登録後の目標とリワードを編集可能 ✅実装済み
  6. **目標一覧表示機能** - 保存した目標を一覧表示、最近追加した目標を表示 ✅実装済み
  7. **リワード一覧表示機能** - 達成済み/未達成のリワードを視覚的に区別して表示 ✅実装済み
- [x] 各機能の優先順位（MVP vs 将来的な機能）
  - **MVP（全機能必須）**: 上記4機能すべてがコア機能として必須
- [x] デモで見せるべき機能の選定
  - **デモで見せる機能**: 上記4機能すべてをデモで実演

### 2.2 ユーザーフロー
- [x] ユーザーがアプリを使う典型的なシナリオ
  - **決定**: 
    1. ホーム画面から「＋ 新しい目標を追加」ボタンをクリック（常設）
    2. 目標登録モードを選択（かんたん/詳細）
    3. 目標を登録（かんたん: テンプレート選択、詳細: 自由入力）
    4. リワード登録モードを選択（選択式/自由入力）
    5. リワードを設定（選択式: ギフト5種から選択、自由入力: テキスト入力）
    6. アナウンスページで登録完了を確認
    7. ホーム画面に戻り、最近追加した目標一覧を確認
    8. 目標カードをクリックして詳細画面へ
    9. 目標達成を報告（確認モーダルで確認後、「目標を達成した！」ボタン）
    10. リワードを受け取る（確認モーダルで確認後、リワードコードが表示される）
    11. リワードコードをコピーまたは店員さんに見せる
    12. リワード一覧画面で取得済みリワードを確認（強調表示）
- [x] デモで流すべき操作手順
  - **決定**: 上記シナリオに基づいて実装済み
- [x] 各画面でのユーザーアクション
  - **実装済み**: 
    - ホーム: 「新しい目標を追加」ボタン常設、最近追加した目標一覧、目標カードクリックで詳細へ
    - 目標一覧: 保存した目標を時系列で表示、タップで詳細へ
    - リワード一覧: 達成済み（強調）/未達成（薄く）を分類表示、コード表示ボタン
    - 目標登録: かんたん/詳細モード選択、フォーム入力、リワード設定画面へ遷移
    - リワード登録: 選択式/自由入力モード選択、リワード設定、アナウンスページへ遷移
    - 目標詳細: 編集、達成報告（確認モーダル）、リワード受け取り（確認モーダル）、コード表示
    - 目標編集: かんたん/詳細モードで編集、リワードも同時編集可能

## 3. 技術スタック

### 3.1 フロントエンド
- [x] 使用するフレームワーク（React, Vue, Next.js等）
  - **選定**: React + Vite（高速な開発体験、デモに最適）✅実装済み
- [x] UIライブラリ（Material-UI, Tailwind CSS等）
  - **選定**: Tailwind CSS（モダンで柔軟なスタイリング）✅実装済み
- [x] 状態管理（Redux, Zustand, Context API等）
  - **選定**: React Context API + useReducer（シンプルで十分、デモ用途に適切）✅実装済み

### 3.2 バックエンド（必要に応じて）
- [x] 使用する言語・フレームワーク
  - **選定**: なし（デモ用途のため、フロントエンドのみ、ローカルストレージ使用）✅実装済み
- [x] データベース（SQL, NoSQL等）
  - **選定**: localStorage（ブラウザのローカルストレージ、デモ用途に最適）✅実装済み
- [x] API設計（REST, GraphQL等）
  - **選定**: なし（ローカルストレージでデータ永続化）✅実装済み

### 3.3 開発環境
- [x] Node.jsバージョン
  - **選定**: Node.js 18以上（Viteの要件）
- [x] パッケージマネージャー（npm, yarn, pnpm）
  - **選定**: npm（標準的）✅実装済み
- [x] ビルドツール（Vite, Webpack等）
  - **選定**: Vite（高速な開発サーバーとビルド）✅実装済み

## 4. データモデル

### 4.1 エンティティ定義
- [x] 主要なデータエンティティ（例：ユーザー、投稿、コメント等）
  - **Goal（目標）**: ユーザーが設定する目標 ✅実装済み
  - **Reward（リワード）**: 目標達成時に受け取る報酬 ✅実装済み
  - **Achievement（達成記録）**: 目標達成の記録 ✅実装済み
- [x] 各エンティティの属性・フィールド
  - **Goal**: id, title（目標名）, description（説明）, createdAt（作成日時）, status（状態: active/completed）✅実装済み
  - **Reward**: id, goalId（関連する目標ID）, title（リワード名）, description（説明）, createdAt（作成日時）, received（受け取り済みか）, rewardCode（リワードコード: RWD-XXXX-XXXX形式）, receivedAt（受け取り日時）✅実装済み
  - **Achievement**: id, goalId（達成した目標ID）, completedAt（達成日時）, note（メモ）✅実装済み
- [x] エンティティ間の関係性
  - Goal 1対1 Reward（1つの目標に1つのリワード）✅実装済み
  - Goal 1対1 Achievement（1つの目標は1回達成可能、デモ用途）✅実装済み

### 4.2 デモデータ
- [x] デモ用のサンプルデータ
  - **実装**: localStorageに保存されるため、ブラウザをリロードしてもデータが保持される ✅実装済み
- [x] データの量・種類
  - **実装**: ユーザーが手動で目標とリワードを登録 ✅実装済み
- [x] データの生成方法（手動、スクリプト、API等）
  - **実装**: ユーザーがフォームから手動で登録（デモ用途に最適）✅実装済み

## 5. UI/UX設計

### 5.1 画面構成
- [x] 主要な画面・ページ一覧
  1. **ホーム画面**: 「新しい目標を追加」ボタン常設、最近追加した目標一覧、アクティブ/達成済み目標の表示 ✅実装済み
  2. **目標一覧画面**: 保存した目標を時系列で一覧表示 ✅実装済み
  3. **リワード一覧画面**: 達成済み（強調）/未達成（薄く表示）のリワードを分類表示 ✅実装済み
  4. **目標登録モード選択画面**: かんたん/詳細の選択 ✅実装済み
  5. **目標登録画面**: かんたん（テンプレート選択）または詳細（自由入力）で目標を作成 ✅実装済み
  6. **リワード登録モード選択画面**: 選択式/自由入力の選択 ✅実装済み
  7. **リワード登録画面**: 選択式（ギフト5種）または自由入力でリワードを設定 ✅実装済み
  8. **目標詳細画面**: 目標の詳細、編集、達成報告、リワード受け取り、コード表示 ✅実装済み
  9. **目標編集画面**: 目標とリワードの編集 ✅実装済み
  10. **アナウンス画面**: 登録完了などの案内を表示 ✅実装済み
- [x] 各画面のレイアウト
  - **実装済み**: モバイル前提のシンプルで直感的なカード型レイアウト、Tailwind CSSでスタイリング ✅実装済み
- [x] ナビゲーション構造
  - **実装済み**: 上部ヘッダー（ハンバーガーメニュー付き）+ 下部タブナビゲーション（常時表示）+ フッター（バージョン表示）✅実装済み

### 5.2 デザイン要件
- [x] カラースキーム
  - **選定**: 温かみのある色（ストレス軽減をイメージ）
    - プライマリ: オレンジ/コーラル系（達成感、エネルギー）✅実装済み
    - セカンダリ: グリーン系（成長、リラックス）✅実装済み
    - 背景: ライトグレー/オフホワイト（落ち着いた印象）✅実装済み
- [x] タイポグラフィ
  - **選定**: 読みやすいサンセリフフォント（システムフォント使用）✅実装済み
- [x] コンポーネントスタイル
  - **選定**: カード型、角丸、シャドウでモダンな印象 ✅実装済み
- [x] レスポンシブデザイン要件
  - **選定**: モバイルファースト、デスクトップ対応 ✅実装済み

### 5.3 インタラクション
- [x] アニメーション・トランジション
  - **実装済み**: Toast通知のスライドアップアニメーション ✅実装済み
- [x] フィードバック（ローディング、エラー、成功メッセージ等）
  - **実装済み**: 
    - Toast通知（成功/エラー/警告）でページ内表示 ✅実装済み
    - ConfirmModalで確認ダイアログ（ブラウザ標準ポップアップ不使用）✅実装済み
    - フォームエラーはインライン表示（入力欄の下に赤文字）✅実装済み
    - コピー成功時の視覚的フィードバック ✅実装済み
- [x] ユーザビリティの考慮事項
  - **実装済み**: 
    - モバイル前提のUI設計（下部タブナビ、大きなタップ領域）✅実装済み
    - フッタータブは全画面で常時表示（迷わない設計）✅実装済み
    - ブラウザ標準ポップアップ（alert/confirm）を全廃し、ページ内UIで完結 ✅実装済み
    - 重要な案内はAnnouncementページで説明 ✅実装済み

## 6. API設計（バックエンドがある場合）

### 6.1 エンドポイント
- [ ] 必要なAPIエンドポイント一覧
- [ ] 各エンドポイントのHTTPメソッド
- [ ] リクエスト/レスポンス形式

### 6.2 認証・認可
- [ ] 認証方式（JWT, OAuth等）
- [ ] ユーザー権限管理
- [ ] セキュリティ要件

## 7. デモシナリオ

### 7.1 デモの流れ
- [x] デモの開始点（どの画面から始めるか）
  - **選定**: ホーム画面（空の状態から開始）✅実装済み
- [x] デモ中に実行する操作の順序
  1. ホーム画面を表示（初期状態）
  2. 目標を登録（例：「今週のプレゼン資料を完成させる」）
  3. リワードを登録（例：「好きなレストランでディナー」）
  4. 目標達成を報告
  5. リワードを受け取る（達成感の確認）
- [x] 各ステップで強調するポイント
  - 目標設定の簡単さ、リワード設定の楽しさ、達成報告の満足感、リワード受け取りの達成感 ✅実装済み
- [x] デモの所要時間
  - **想定**: 3-5分

### 7.2 想定される質問への準備
- [ ] よくある質問とその回答
- [ ] 技術的な詳細説明
- [ ] 今後の展開・ロードマップ

## 8. パフォーマンス要件

### 8.1 パフォーマンス目標
- [ ] ページ読み込み時間
- [ ] APIレスポンス時間
- [ ] 同時接続数（デモ用）

### 8.2 最適化
- [ ] 画像最適化
- [ ] コード分割
- [ ] キャッシュ戦略

## 9. テスト・品質保証

### 9.1 テスト範囲
- [ ] デモで使用する機能の動作確認
- [ ] エッジケースの処理
- [ ] ブラウザ互換性

### 9.2 デモ前チェックリスト
- [ ] すべての機能が正常に動作するか
- [ ] デモデータが適切に表示されるか
- [ ] エラーが発生しないか

## 10. デプロイ・公開

### 10.1 デプロイ環境
- [x] デプロイ先（Vercel, Netlify, AWS等）
  - **選定**: Vercel（フロントエンドフレームワークに最適、GitHub連携可能）✅実装済み
- [x] 環境変数の設定
  - **実装済み**: vite.config.jsでpackage.jsonからバージョンを読み込み、環境変数として注入 ✅実装済み
- [x] ドメイン・URL
  - **実装済み**: https://gohobby.vercel.app ✅実装済み
  - **GitHub**: https://github.com/kyo-saito/gohobby ✅実装済み

### 10.2 デモ公開方法
- [x] デモの公開範囲（公開、限定公開等）
  - **実装済み**: Vercelで公開デプロイ済み ✅実装済み
- [x] アクセス制御
  - **実装済み**: 公開URLで誰でもアクセス可能 ✅実装済み
- [x] デモの有効期限
  - **実装済み**: 無期限（Vercelの無料プラン範囲内）✅実装済み

## 11. ドキュメント

### 11.1 開発ドキュメント
- [x] README.md（セットアップ手順等）
  - **実装済み**: README.mdにセットアップ手順、使用方法、デモシナリオを記載 ✅実装済み
- [x] コードコメント
  - **実装済み**: 主要な部分にコメントを追加 ✅実装済み
- [x] アーキテクチャ説明
  - **実装済み**: React Context API + useReducerで状態管理、localStorageでデータ永続化 ✅実装済み
- [x] バージョン管理
  - **実装済み**: package.jsonでバージョン管理、自動バージョンアップスクリプト（npm run version:bump）、画面下部にバージョン表示 ✅実装済み

### 11.2 デモ用ドキュメント
- [x] デモガイド
  - **実装済み**: DEMO_DEFINITION.mdに詳細な機能要件とユーザーフローを記載 ✅実装済み
- [ ] 機能説明資料
- [ ] スクリーンショット・動画

---

## 12. 実装済み機能の詳細

### 12.1 UIコンポーネント
- [x] **Header**: 上部ヘッダー、ハンバーガーメニュー（モバイル）、デスクトップ用横並びナビ ✅実装済み
- [x] **BottomTabNav**: 下部タブナビゲーション（Home/目標/リワード）、全画面で常時表示 ✅実装済み
- [x] **Footer**: バージョン表示（package.jsonから自動取得）✅実装済み
- [x] **Toast**: 成功/エラー/警告通知（ページ内表示、自動非表示）✅実装済み
- [x] **ConfirmModal**: 確認ダイアログ（ブラウザ標準ポップアップ不使用）✅実装済み
- [x] **RewardCodeModal**: リワードコード表示モーダル（コピー機能付き）✅実装済み

### 12.2 機能詳細
- [x] **目標登録**: かんたんモード（テンプレート10種から選択）、詳細モード（自由入力）✅実装済み
- [x] **リワード登録**: 選択式モード（ギフト5種: アイス/漫画/ラーメン/カフェ/映画、特典表示付き）、自由入力モード ✅実装済み
- [x] **目標編集**: かんたん/詳細モードで編集、リワードも同時編集可能 ✅実装済み
- [x] **リワードコード**: 取得時にランダム生成（RWD-XXXX-XXXX形式）、取得後も再表示可能 ✅実装済み
- [x] **データ永続化**: localStorageで自動保存、ブラウザリロード後もデータ保持 ✅実装済み

### 12.3 改善履歴
- **v1.0.0**: 初期実装（基本機能4つ）
- **v1.1.0**: 下部タブナビゲーション、バージョン表示追加
- **v1.1.1**: 目標登録・リワード設定の改善（かんたん/詳細モード）
- **v1.1.2**: 目標編集機能、リワード一覧画面、ヘッダー復活
- **v1.1.3**: フッタータブ常時表示、リワードコード生成機能
- **v1.1.4**: alert/confirm全廃、Toast/ConfirmModal実装、Announcementページ追加

---

## 次のステップ

この定義書を基に、以下を決定してください：

1. **優先度の高い項目から決定**（特に1, 2, 3, 4は必須）✅完了
2. **デモの範囲を明確化**（全機能 vs 主要機能のみ）✅完了（全機能実装済み）
3. **技術スタックの選定**（既存のスキルセットを考慮）✅完了（React + Vite + Tailwind CSS）
4. **デモデータの準備**（リアルなデータでデモの説得力が向上）✅完了（ユーザーが手動登録）

決定した内容をこのドキュメントに記入していくことで、デモ開発を体系的に進められます。

